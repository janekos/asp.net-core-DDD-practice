
@{
    ViewData["Title"] = "Add participant";
}
@model PersonPartyGoerViewModel;

<div id="adderContentWrapper" class="container">
    <div id="adderHeader" class="container">
        <div id="pageName">
            <h1>Add participant</h1>
        </div>
    </div>
    <div class="myForm">
        <form class="formItself" asp-action="AddPersonPartyGoer/@ViewData["partyId"]" asp-controller="Party">
            <h2>Add participant</h2>
            <div class="form-group">
                <label for="goerType">Participant type</label>
                <select id="goerType" class="form-control">
                    <option>Person</option>
                    <option>Firm</option>
                </select>
                <br />
            </div>
            <div class="form-group">
                <label asp-for="name">Participant name</label>
                <input class="form-control d-inline" asp-for="name" placeholder="Insert participant name">
                </br>
                <div class="alert alert-danger d-inline" style="width: auto; display: @ViewData["errorName"];">
                    <span>@Html.ValidationMessageFor(model => model.name)</span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="surname">Participant surname</label>
                <input class="form-control d-inline" asp-for="surname" placeholder="Insert participant surname">
                </br>
                <div class="alert alert-danger d-inline" style="width: auto; display: @ViewData["errorSurname"];">
                    <span>@Html.ValidationMessageFor(model => model.surname)</span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="personalCode">Participant personal code</label>
                <input class="form-control d-inline" asp-for="personalCode" placeholder="Insert participant personal code" type="number">
                </br>
                <div class="alert alert-danger d-inline" style="width: auto; display: @ViewData["errorPersonalCode"];">
                    <span>@Html.ValidationMessageFor(model => model.personalCode)</span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="paymentType">Payment type</label>
                <select asp-for="paymentType" class="form-control">
                    <option value="0">bank transfer</option>
                    <option value="1">Cash</option>
                </select>
                </br>
                <div class="alert alert-danger d-inline" style="width: auto; display: @ViewData["errorPaymentType"];">
                    <span>@Html.ValidationMessageFor(model => model.paymentType)</span>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="extraInfo">Extra info</label>
                <textarea class="form-control d-inline" asp-for="extraInfo" placeholder="Extra info"></textarea>
                </br>
                <div class="alert alert-danger d-inline" style="width: auto; display: @ViewData["errorExtraInfo"];">
                    <span>@Html.ValidationMessageFor(model => model.extraInfo)</span>
                </div>
            </div>
            </br>
            <input type="hidden" asp-for="partyRefId" value="@ViewData["partyId"]" />
            <button type="submit" class="btn btn-success">Submit</button>
            <button type="button" class="btn btn-danger" onclick="javascript:window.location.href = window.location.href.replace(/(Party\/AddPersonPartyGoer)(.*)/g, 'Party');">Back</button>
        </form>
    </div>
</div>
<script>
    document.getElementById("goerType").addEventListener("change", function (e) {
        console.log(window.location.href.replace(/(Party\/AddPersonPartyGoer)(.*)/g, "Party"));
        window.location.href = window.location.href.replace(/(AddPersonPartyGoer)(.*)/g, "AddFirmPartyGoer/@ViewData["partyId"]");
    });
</script>